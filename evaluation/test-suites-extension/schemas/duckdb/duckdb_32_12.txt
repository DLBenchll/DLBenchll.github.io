DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (y INT NOT NULL DEFAULT 0, i INT NOT NULL DEFAULT 0, c VARCHAR(20) NOT NULL DEFAULT '');
UPDATE t1 SET i = CAST(c AS INT) WHERE c ~ '^[0-9]+$';
UPDATE t1 SET y = CAST(c AS INT) WHERE c ~ '^[0-9]+$';
UPDATE t1 SET y = i;
INSERT INTO t1 (y) VALUES (0), ('00'), ('0000');
TRUNCATE TABLE t1;
INSERT INTO t1 (i) VALUES (-1), (1800), (2156), (2147483647);
UPDATE t1 SET y = i;
TRUNCATE TABLE t1;
INSERT INTO t1 (c) VALUES (''), (' '), ('2012qwer'), ('qwer');
UPDATE t1 SET y = CAST(c AS INT) WHERE c ~ '^[0-9]+$';
