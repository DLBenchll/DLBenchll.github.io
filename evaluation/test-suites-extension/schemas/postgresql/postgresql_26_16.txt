DROP TABLE IF EXISTS t1;
CREATE table t1 (a BYTEA);
insert into t1 values ('b'),('a\\0'),('a'),('a '),('aa'),(NULL);
select encode(a, 'hex') from t1 order by a;
select encode(a || '\\0', 'hex') as b from t1 order by a || '\\0';
ALTER TABLE t1 ALTER COLUMN a TYPE BYTEA;
select encode(a, 'hex') from t1 order by a;
DROP TABLE t1;
DROP TABLE IF EXISTS t;
CREATE TABLE t (c TEXT);
INSERT INTO t (c) VALUES (REPEAT('3',65535));
SELECT octet_length(c), CHAR_LENGTH(c) FROM t;
DROP TABLE t;
DROP TABLE IF EXISTS t2;
CREATE TABLE t2(id INT NOT NULL, c TEXT NOT NULL);
INSERT INTO t2 VALUES (1, '');
